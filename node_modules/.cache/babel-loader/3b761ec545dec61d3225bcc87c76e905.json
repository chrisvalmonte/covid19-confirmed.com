{"ast":null,"code":"var _jsxFileName = \"/Users/chris/Desktop/covid19-confirmed/app/src/Map.js\";\nimport React, { useRef, useState } from 'react';\nimport MapGL, { Layer, Source } from 'react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport { clusterCountLayer, clusterLayer, unclusteredPointLayer } from './Map.layers';\nexport function Map() {\n  const [viewport, setViewport] = useState({\n    latitude: 40.67,\n    longitude: -103.59,\n    zoom: 3,\n    bearing: 0,\n    pitch: 0\n  });\n  const sourceRef = useRef();\n\n  const _onViewportChange = updatedViewport => setViewport(updatedViewport);\n\n  const _onClick = event => {\n    const feature = event.features[0];\n    const clusterId = feature.properties.cluster_id;\n    const mapboxSource = sourceRef.current.getSource();\n    mapboxSource.getClusterExpansionZoom(clusterId, (err, zoom) => {\n      if (err) return;\n\n      _onViewportChange({\n        latitude: feature.geometry.coordinates[1],\n        longitude: feature.geometry.coordinates[0],\n        transitionDuration: 500,\n        viewport,\n        zoom\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(MapGL, Object.assign({}, viewport, {\n    width: \"100%\",\n    height: \"100%\",\n    mapStyle: \"mapbox://styles/mapbox/dark-v9\",\n    onViewportChange: _onViewportChange,\n    mapboxApiAccessToken: `${process.env.REACT_APP_MAPBOX_GL_API_TOKEN}`,\n    interactiveLayerIds: [clusterLayer.id],\n    onClick: _onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Source, {\n    type: \"geojson\",\n    data: \"https://docs.mapbox.com/mapbox-gl-js/assets/earthquakes.geojson\" // TODO: Replace w/ COVID-19 data\n    ,\n    cluster: true,\n    clusterMaxZoom: 14,\n    clusterRadius: 50,\n    ref: sourceRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Layer, Object.assign({}, clusterLayer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Layer, Object.assign({}, clusterCountLayer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Layer, Object.assign({}, unclusteredPointLayer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }))));\n}","map":{"version":3,"sources":["/Users/chris/Desktop/covid19-confirmed/app/src/Map.js"],"names":["React","useRef","useState","MapGL","Layer","Source","clusterCountLayer","clusterLayer","unclusteredPointLayer","Map","viewport","setViewport","latitude","longitude","zoom","bearing","pitch","sourceRef","_onViewportChange","updatedViewport","_onClick","event","feature","features","clusterId","properties","cluster_id","mapboxSource","current","getSource","getClusterExpansionZoom","err","geometry","coordinates","transitionDuration","process","env","REACT_APP_MAPBOX_GL_API_TOKEN","id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,QAAwC,OAAxC;AACA,OAAOC,KAAP,IAAgBC,KAAhB,EAAuBC,MAAvB,QAAqC,cAArC;AACA,OAAO,8BAAP;AAEA,SACEC,iBADF,EAEEC,YAFF,EAGEC,qBAHF,QAIO,cAJP;AAMA,OAAO,SAASC,GAAT,GAAe;AACpB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC;AACvCU,IAAAA,QAAQ,EAAE,KAD6B;AAEvCC,IAAAA,SAAS,EAAE,CAAC,MAF2B;AAGvCC,IAAAA,IAAI,EAAE,CAHiC;AAIvCC,IAAAA,OAAO,EAAE,CAJ8B;AAKvCC,IAAAA,KAAK,EAAE;AALgC,GAAD,CAAxC;AAQA,QAAMC,SAAS,GAAGhB,MAAM,EAAxB;;AAEA,QAAMiB,iBAAiB,GAAGC,eAAe,IAAIR,WAAW,CAACQ,eAAD,CAAxD;;AAEA,QAAMC,QAAQ,GAAGC,KAAK,IAAI;AACxB,UAAMC,OAAO,GAAGD,KAAK,CAACE,QAAN,CAAe,CAAf,CAAhB;AACA,UAAMC,SAAS,GAAGF,OAAO,CAACG,UAAR,CAAmBC,UAArC;AAEA,UAAMC,YAAY,GAAGV,SAAS,CAACW,OAAV,CAAkBC,SAAlB,EAArB;AAEAF,IAAAA,YAAY,CAACG,uBAAb,CAAqCN,SAArC,EAAgD,CAACO,GAAD,EAAMjB,IAAN,KAAe;AAC7D,UAAIiB,GAAJ,EAAS;;AAETb,MAAAA,iBAAiB,CAAC;AAChBN,QAAAA,QAAQ,EAAEU,OAAO,CAACU,QAAR,CAAiBC,WAAjB,CAA6B,CAA7B,CADM;AAEhBpB,QAAAA,SAAS,EAAES,OAAO,CAACU,QAAR,CAAiBC,WAAjB,CAA6B,CAA7B,CAFK;AAGhBC,QAAAA,kBAAkB,EAAE,GAHJ;AAIhBxB,QAAAA,QAJgB;AAKhBI,QAAAA;AALgB,OAAD,CAAjB;AAOD,KAVD;AAWD,GAjBD;;AAmBA,sBACE,oBAAC,KAAD,oBACMJ,QADN;AAEE,IAAA,KAAK,EAAC,MAFR;AAGE,IAAA,MAAM,EAAC,MAHT;AAIE,IAAA,QAAQ,EAAC,gCAJX;AAKE,IAAA,gBAAgB,EAAEQ,iBALpB;AAME,IAAA,oBAAoB,EAAG,GAAEiB,OAAO,CAACC,GAAR,CAAYC,6BAA8B,EANrE;AAOE,IAAA,mBAAmB,EAAE,CAAC9B,YAAY,CAAC+B,EAAd,CAPvB;AAQE,IAAA,OAAO,EAAElB,QARX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAUE,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,SADP;AAEE,IAAA,IAAI,EAAC,iEAFP,CAEyE;AAFzE;AAGE,IAAA,OAAO,EAAE,IAHX;AAIE,IAAA,cAAc,EAAE,EAJlB;AAKE,IAAA,aAAa,EAAE,EALjB;AAME,IAAA,GAAG,EAAEH,SANP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAQE,oBAAC,KAAD,oBAAWV,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KARF,eASE,oBAAC,KAAD,oBAAWD,iBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KATF,eAUE,oBAAC,KAAD,oBAAWE,qBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAVF,CAVF,CADF;AAyBD","sourcesContent":["import React, { useRef, useState } from 'react';\nimport MapGL, { Layer, Source } from 'react-map-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nimport {\n  clusterCountLayer,\n  clusterLayer,\n  unclusteredPointLayer,\n} from './Map.layers';\n\nexport function Map() {\n  const [viewport, setViewport] = useState({\n    latitude: 40.67,\n    longitude: -103.59,\n    zoom: 3,\n    bearing: 0,\n    pitch: 0,\n  });\n\n  const sourceRef = useRef();\n\n  const _onViewportChange = updatedViewport => setViewport(updatedViewport);\n\n  const _onClick = event => {\n    const feature = event.features[0];\n    const clusterId = feature.properties.cluster_id;\n\n    const mapboxSource = sourceRef.current.getSource();\n\n    mapboxSource.getClusterExpansionZoom(clusterId, (err, zoom) => {\n      if (err) return;\n\n      _onViewportChange({\n        latitude: feature.geometry.coordinates[1],\n        longitude: feature.geometry.coordinates[0],\n        transitionDuration: 500,\n        viewport,\n        zoom,\n      });\n    });\n  };\n\n  return (\n    <MapGL\n      {...viewport}\n      width=\"100%\"\n      height=\"100%\"\n      mapStyle=\"mapbox://styles/mapbox/dark-v9\"\n      onViewportChange={_onViewportChange}\n      mapboxApiAccessToken={`${process.env.REACT_APP_MAPBOX_GL_API_TOKEN}`}\n      interactiveLayerIds={[clusterLayer.id]}\n      onClick={_onClick}\n    >\n      <Source\n        type=\"geojson\"\n        data=\"https://docs.mapbox.com/mapbox-gl-js/assets/earthquakes.geojson\" // TODO: Replace w/ COVID-19 data\n        cluster={true}\n        clusterMaxZoom={14}\n        clusterRadius={50}\n        ref={sourceRef}\n      >\n        <Layer {...clusterLayer} />\n        <Layer {...clusterCountLayer} />\n        <Layer {...unclusteredPointLayer} />\n      </Source>\n    </MapGL>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}