{"ast":null,"code":"import _toConsumableArray from\"/Users/chris/Desktop/covid19-confirmed/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/chris/Desktop/covid19-confirmed/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/chris/Desktop/covid19-confirmed/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/chris/Desktop/covid19-confirmed/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/chris/Desktop/covid19-confirmed/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/chris/Desktop/covid19-confirmed/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useEffect,useRef,useState}from'react';import _ from'lodash';import Container from'@material-ui/core/Container';import Fab from'@material-ui/core/Fab';import Grid from'@material-ui/core/Grid';import KeyboardArrowUpIcon from'@material-ui/icons/KeyboardArrowUp';import Link from'@material-ui/core/Link';import Typography from'@material-ui/core/Typography';import Zoom from'@material-ui/core/Zoom';import grey from'@material-ui/core/colors/grey';import{makeStyles}from'@material-ui/core/styles';import{Waypoint}from'react-waypoint';import NewsCard from'./NewsCard';import{rootStyles}from'./App';import{getNews}from'./services';var useStyles=makeStyles(function(theme){return{fab:_defineProperty({backgroundColor:grey[900],color:grey[100],bottom:'32px',position:'fixed',right:'48px','&:hover':{backgroundColor:grey[900]}},theme.breakpoints.down('sm'),{bottom:'72px',right:'16px'}),newsAPICredit:{textAlign:'right'},root:_objectSpread({},rootStyles,{backgroundColor:grey[300]})};});export default function News(){var classes=useStyles();var pageRef=useRef(null);var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isFabShown=_useState4[0],setIsFabShown=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),newsArticles=_useState6[0],setNewsArticles=_useState6[1];// Get news articles when component mounts\nuseEffect(function(){var _newsData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$getNews,articles;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getNews({page:currentPage});case 2:_yield$getNews=_context.sent;articles=_yield$getNews.data.articles;setNewsArticles(articles);setCurrentPage(currentPage+1);case 6:case\"end\":return _context.stop();}}},_callee);}));return function _newsData(){return _ref.apply(this,arguments);};}();_newsData();},[]);// eslint-disable-line\nvar _getNextPage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$getNews2,articles;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getNews({page:currentPage});case 2:_yield$getNews2=_context2.sent;articles=_yield$getNews2.data.articles;setNewsArticles(_.uniqBy([].concat(_toConsumableArray(newsArticles),_toConsumableArray(articles)),function(_ref3){var title=_ref3.title;return title;}));setCurrentPage(currentPage+1);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function _getNextPage(){return _ref2.apply(this,arguments);};}();var _scrollToTop=function _scrollToTop(){pageRef.current.scrollTo(0,pageRef.current.offsetTop);};return/*#__PURE__*/React.createElement(\"article\",{className:classes.root,ref:pageRef},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Grid,{container:true,spacing:3},/*#__PURE__*/React.createElement(Waypoint,{onEnter:function onEnter(){setIsFabShown(false);},onLeave:function onLeave(){setIsFabShown(true);}}),/*#__PURE__*/React.createElement(Grid,{item:true,xs:12},/*#__PURE__*/React.createElement(Typography,{className:classes.newsAPICredit,variant:\"body2\"},\"Powered by \",/*#__PURE__*/React.createElement(Link,{href:\"https://newsapi.org/\"},\"newsapi.org\"))),newsArticles.map(function(article,index){return/*#__PURE__*/React.createElement(Grid,{item:true,key:\"\".concat(index,\" - \").concat(article.title),xs:12,sm:6,lg:4},/*#__PURE__*/React.createElement(NewsCard,article));}),/*#__PURE__*/React.createElement(Waypoint,{onEnter:_getNextPage}))),/*#__PURE__*/React.createElement(Zoom,{in:isFabShown},/*#__PURE__*/React.createElement(Fab,{\"aria-label\":\"scroll back to top\",className:classes.fab,onClick:_scrollToTop},/*#__PURE__*/React.createElement(KeyboardArrowUpIcon,null))));}","map":{"version":3,"sources":["/Users/chris/Desktop/covid19-confirmed/app/src/News.js"],"names":["React","useEffect","useRef","useState","_","Container","Fab","Grid","KeyboardArrowUpIcon","Link","Typography","Zoom","grey","makeStyles","Waypoint","NewsCard","rootStyles","getNews","useStyles","theme","fab","backgroundColor","color","bottom","position","right","breakpoints","down","newsAPICredit","textAlign","root","News","classes","pageRef","currentPage","setCurrentPage","isFabShown","setIsFabShown","newsArticles","setNewsArticles","_newsData","page","articles","data","_getNextPage","uniqBy","title","_scrollToTop","current","scrollTo","offsetTop","map","article","index"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport _ from 'lodash';\nimport Container from '@material-ui/core/Container';\nimport Fab from '@material-ui/core/Fab';\nimport Grid from '@material-ui/core/Grid';\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\nimport Link from '@material-ui/core/Link';\nimport Typography from '@material-ui/core/Typography';\nimport Zoom from '@material-ui/core/Zoom';\nimport grey from '@material-ui/core/colors/grey';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Waypoint } from 'react-waypoint';\n\nimport NewsCard from './NewsCard';\nimport { rootStyles } from './App';\nimport { getNews } from './services';\n\nconst useStyles = makeStyles(theme => ({\n  fab: {\n    backgroundColor: grey[900],\n    color: grey[100],\n    bottom: '32px',\n    position: 'fixed',\n    right: '48px',\n    '&:hover': {\n      backgroundColor: grey[900],\n    },\n    [theme.breakpoints.down('sm')]: {\n      bottom: '72px',\n      right: '16px',\n    },\n  },\n  newsAPICredit: {\n    textAlign: 'right',\n  },\n  root: {\n    ...rootStyles,\n    backgroundColor: grey[300],\n  },\n}));\n\nexport default function News() {\n  const classes = useStyles();\n\n  const pageRef = useRef(null);\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [isFabShown, setIsFabShown] = useState(false);\n  const [newsArticles, setNewsArticles] = useState([]);\n\n  // Get news articles when component mounts\n  useEffect(() => {\n    const _newsData = async () => {\n      const {\n        data: { articles },\n      } = await getNews({ page: currentPage });\n\n      setNewsArticles(articles);\n      setCurrentPage(currentPage + 1);\n    };\n\n    _newsData();\n  }, []); // eslint-disable-line\n\n  const _getNextPage = async () => {\n    const {\n      data: { articles },\n    } = await getNews({ page: currentPage });\n\n    setNewsArticles(\n      _.uniqBy([...newsArticles, ...articles], ({ title }) => title),\n    );\n    setCurrentPage(currentPage + 1);\n  };\n\n  const _scrollToTop = () => {\n    pageRef.current.scrollTo(0, pageRef.current.offsetTop);\n  };\n\n  return (\n    <article className={classes.root} ref={pageRef}>\n      <Container>\n        <Grid container spacing={3}>\n          <Waypoint\n            onEnter={() => {\n              setIsFabShown(false);\n            }}\n            onLeave={() => {\n              setIsFabShown(true);\n            }}\n          />\n          <Grid item xs={12}>\n            <Typography className={classes.newsAPICredit} variant=\"body2\">\n              Powered by <Link href=\"https://newsapi.org/\">newsapi.org</Link>\n            </Typography>\n          </Grid>\n          {newsArticles.map((article, index) => (\n            <Grid\n              item\n              key={`${index} - ${article.title}`}\n              xs={12}\n              sm={6}\n              lg={4}\n            >\n              <NewsCard {...article} />\n            </Grid>\n          ))}\n\n          <Waypoint onEnter={_getNextPage} />\n        </Grid>\n      </Container>\n      <Zoom in={isFabShown}>\n        <Fab\n          aria-label=\"scroll back to top\"\n          className={classes.fab}\n          onClick={_scrollToTop}\n        >\n          <KeyboardArrowUpIcon />\n        </Fab>\n      </Zoom>\n    </article>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}