{"ast":null,"code":"var _jsxFileName = \"/Users/chris/Desktop/covid19-confirmed/app/src/HistoryChart.js\";\nimport React, { useState } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport grey from '@material-ui/core/colors/grey';\nimport red from '@material-ui/core/colors/red';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { ChartLabel, Crosshair, FlexibleWidthXYPlot, HorizontalGridLines, LineSeries, VerticalGridLines, XAxis, YAxis } from 'react-vis';\nimport moment from 'moment';\nimport numeral from 'numeral';\nconst useStyles = makeStyles(() => ({\n  crosshair: {\n    backgroundColor: grey[900],\n    color: grey[100],\n    minWidth: '150px',\n    padding: '8px 16px'\n  }\n}));\nexport default function HistoryChart({\n  height,\n  history\n}) {\n  const classes = useStyles();\n  const [crosshairValue, setCrosshairValue] = useState(null);\n\n  const _formatDate = date => moment(date).format('MM/DD/YYYY');\n\n  if (!history.length) return null;\n  return /*#__PURE__*/React.createElement(FlexibleWidthXYPlot, {\n    height: height,\n    onMouseLeave: () => {\n      setCrosshairValue(null);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(VerticalGridLines, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(HorizontalGridLines, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ChartLabel, {\n    includeMargin: false,\n    text: \"Date\",\n    xPercent: 0.015,\n    yPercent: 1.01,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(XAxis, {\n    tickFormat: _formatDate,\n    tickTotal: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ChartLabel, {\n    includeMargin: false,\n    style: {\n      transform: 'rotate(-90)',\n      textAnchor: 'end'\n    },\n    text: \"# Cases\",\n    xPercent: 0.03,\n    yPercent: 0.06,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    tickFormat: y => numeral(y).format('0a'),\n    tickTotal: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }), history.map(({\n    timeline: {\n      cases\n    }\n  }) => {\n    const data = Object.keys(cases).map(date => ({\n      x: moment(date).valueOf(),\n      y: cases[date]\n    }));\n    return /*#__PURE__*/React.createElement(LineSeries, {\n      curve: \"curveMonotoneX\",\n      data: data,\n      onNearestX: d => {\n        setCrosshairValue(d);\n      },\n      stroke: red[500],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    });\n  }), crosshairValue && /*#__PURE__*/React.createElement(Crosshair, {\n    style: {\n      line: grey[900]\n    },\n    values: [crosshairValue],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    className: classes.crosshair,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"p\",\n    variant: \"body2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 15\n    }\n  }, \"# Cases\"), \":\", ' ', numeral(crosshairValue.y).format('0,0')), /*#__PURE__*/React.createElement(Typography, {\n    component: \"p\",\n    variant: \"body2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, \"Date\"), \": \", _formatDate(crosshairValue.x)))));\n}","map":{"version":3,"sources":["/Users/chris/Desktop/covid19-confirmed/app/src/HistoryChart.js"],"names":["React","useState","Paper","Typography","grey","red","makeStyles","ChartLabel","Crosshair","FlexibleWidthXYPlot","HorizontalGridLines","LineSeries","VerticalGridLines","XAxis","YAxis","moment","numeral","useStyles","crosshair","backgroundColor","color","minWidth","padding","HistoryChart","height","history","classes","crosshairValue","setCrosshairValue","_formatDate","date","format","length","transform","textAnchor","y","map","timeline","cases","data","Object","keys","x","valueOf","d","line"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,IAAP,MAAiB,+BAAjB;AACA,OAAOC,GAAP,MAAgB,8BAAhB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SACEC,UADF,EAEEC,SAFF,EAGEC,mBAHF,EAIEC,mBAJF,EAKEC,UALF,EAMEC,iBANF,EAOEC,KAPF,EAQEC,KARF,QASO,WATP;AAUA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,OAAP,MAAoB,SAApB;AAEA,MAAMC,SAAS,GAAGX,UAAU,CAAC,OAAO;AAClCY,EAAAA,SAAS,EAAE;AACTC,IAAAA,eAAe,EAAEf,IAAI,CAAC,GAAD,CADZ;AAETgB,IAAAA,KAAK,EAAEhB,IAAI,CAAC,GAAD,CAFF;AAGTiB,IAAAA,QAAQ,EAAE,OAHD;AAITC,IAAAA,OAAO,EAAE;AAJA;AADuB,CAAP,CAAD,CAA5B;AASA,eAAe,SAASC,YAAT,CAAsB;AAAEC,EAAAA,MAAF;AAAUC,EAAAA;AAAV,CAAtB,EAA2C;AACxD,QAAMC,OAAO,GAAGT,SAAS,EAAzB;AAEA,QAAM,CAACU,cAAD,EAAiBC,iBAAjB,IAAsC3B,QAAQ,CAAC,IAAD,CAApD;;AAEA,QAAM4B,WAAW,GAAGC,IAAI,IAAIf,MAAM,CAACe,IAAD,CAAN,CAAaC,MAAb,CAAoB,YAApB,CAA5B;;AAEA,MAAI,CAACN,OAAO,CAACO,MAAb,EAAqB,OAAO,IAAP;AAErB,sBACE,oBAAC,mBAAD;AACE,IAAA,MAAM,EAAER,MADV;AAEE,IAAA,YAAY,EAAE,MAAM;AAClBI,MAAAA,iBAAiB,CAAC,IAAD,CAAjB;AACD,KAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAME,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,eAOE,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,eAQE,oBAAC,UAAD;AACE,IAAA,aAAa,EAAE,KADjB;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,QAAQ,EAAE,KAHZ;AAIE,IAAA,QAAQ,EAAE,IAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARF,eAcE,oBAAC,KAAD;AAAO,IAAA,UAAU,EAAEC,WAAnB;AAAgC,IAAA,SAAS,EAAE,CAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdF,eAgBE,oBAAC,UAAD;AACE,IAAA,aAAa,EAAE,KADjB;AAEE,IAAA,KAAK,EAAE;AACLI,MAAAA,SAAS,EAAE,aADN;AAELC,MAAAA,UAAU,EAAE;AAFP,KAFT;AAME,IAAA,IAAI,EAAC,SANP;AAOE,IAAA,QAAQ,EAAE,IAPZ;AAQE,IAAA,QAAQ,EAAE,IARZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBF,eA0BE,oBAAC,KAAD;AAAO,IAAA,UAAU,EAAEC,CAAC,IAAInB,OAAO,CAACmB,CAAD,CAAP,CAAWJ,MAAX,CAAkB,IAAlB,CAAxB;AAAiD,IAAA,SAAS,EAAE,CAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA1BF,EA4BGN,OAAO,CAACW,GAAR,CAAY,CAAC;AAAEC,IAAAA,QAAQ,EAAE;AAAEC,MAAAA;AAAF;AAAZ,GAAD,KAA6B;AACxC,UAAMC,IAAI,GAAGC,MAAM,CAACC,IAAP,CAAYH,KAAZ,EAAmBF,GAAnB,CAAuBN,IAAI,KAAK;AAC3CY,MAAAA,CAAC,EAAE3B,MAAM,CAACe,IAAD,CAAN,CAAaa,OAAb,EADwC;AAE3CR,MAAAA,CAAC,EAAEG,KAAK,CAACR,IAAD;AAFmC,KAAL,CAA3B,CAAb;AAKA,wBACE,oBAAC,UAAD;AACE,MAAA,KAAK,EAAC,gBADR;AAEE,MAAA,IAAI,EAAES,IAFR;AAGE,MAAA,UAAU,EAAEK,CAAC,IAAI;AACfhB,QAAAA,iBAAiB,CAACgB,CAAD,CAAjB;AACD,OALH;AAME,MAAA,MAAM,EAAEvC,GAAG,CAAC,GAAD,CANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAUD,GAhBA,CA5BH,EA8CGsB,cAAc,iBACb,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE;AAAEkB,MAAAA,IAAI,EAAEzC,IAAI,CAAC,GAAD;AAAZ,KAAlB;AAAuC,IAAA,MAAM,EAAE,CAACuB,cAAD,CAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAED,OAAO,CAACR,SAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAC,GAAtB;AAA0B,IAAA,OAAO,EAAC,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,OAC4B,GAD5B,EAEGF,OAAO,CAACW,cAAc,CAACQ,CAAhB,CAAP,CAA0BJ,MAA1B,CAAiC,KAAjC,CAFH,CADF,eAKE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAC,GAAtB;AAA0B,IAAA,OAAO,EAAC,OAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,QAC0BF,WAAW,CAACF,cAAc,CAACe,CAAhB,CADrC,CALF,CADF,CA/CJ,CADF;AA8DD","sourcesContent":["import React, { useState } from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport grey from '@material-ui/core/colors/grey';\nimport red from '@material-ui/core/colors/red';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  ChartLabel,\n  Crosshair,\n  FlexibleWidthXYPlot,\n  HorizontalGridLines,\n  LineSeries,\n  VerticalGridLines,\n  XAxis,\n  YAxis,\n} from 'react-vis';\nimport moment from 'moment';\nimport numeral from 'numeral';\n\nconst useStyles = makeStyles(() => ({\n  crosshair: {\n    backgroundColor: grey[900],\n    color: grey[100],\n    minWidth: '150px',\n    padding: '8px 16px',\n  },\n}));\n\nexport default function HistoryChart({ height, history }) {\n  const classes = useStyles();\n\n  const [crosshairValue, setCrosshairValue] = useState(null);\n\n  const _formatDate = date => moment(date).format('MM/DD/YYYY');\n\n  if (!history.length) return null;\n\n  return (\n    <FlexibleWidthXYPlot\n      height={height}\n      onMouseLeave={() => {\n        setCrosshairValue(null);\n      }}\n    >\n      <VerticalGridLines />\n      <HorizontalGridLines />\n      <ChartLabel\n        includeMargin={false}\n        text=\"Date\"\n        xPercent={0.015}\n        yPercent={1.01}\n      />\n      <XAxis tickFormat={_formatDate} tickTotal={5} />\n\n      <ChartLabel\n        includeMargin={false}\n        style={{\n          transform: 'rotate(-90)',\n          textAnchor: 'end',\n        }}\n        text=\"# Cases\"\n        xPercent={0.03}\n        yPercent={0.06}\n      />\n      <YAxis tickFormat={y => numeral(y).format('0a')} tickTotal={5} />\n\n      {history.map(({ timeline: { cases } }) => {\n        const data = Object.keys(cases).map(date => ({\n          x: moment(date).valueOf(),\n          y: cases[date],\n        }));\n\n        return (\n          <LineSeries\n            curve=\"curveMonotoneX\"\n            data={data}\n            onNearestX={d => {\n              setCrosshairValue(d);\n            }}\n            stroke={red[500]}\n          />\n        );\n      })}\n\n      {crosshairValue && (\n        <Crosshair style={{ line: grey[900] }} values={[crosshairValue]}>\n          <Paper className={classes.crosshair}>\n            <Typography component=\"p\" variant=\"body2\">\n              <strong># Cases</strong>:{' '}\n              {numeral(crosshairValue.y).format('0,0')}\n            </Typography>\n            <Typography component=\"p\" variant=\"body2\">\n              <strong>Date</strong>: {_formatDate(crosshairValue.x)}\n            </Typography>\n          </Paper>\n        </Crosshair>\n      )}\n    </FlexibleWidthXYPlot>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}